<h2>Users and Assigned Roles</h2>
<table border="1" id="userroletable">
    <thead>
        <tr>
            <th>Username
            <br>
                <span onclick="sortTable('userroletable', 0, 'asc')" style="cursor: pointer;">&#x25B2;</span>
                <span onclick="sortTable('userroletable', 0, 'desc')" style="cursor: pointer;">&#x25BC;</span>
                <input type="text" onkeyup="filterTable('userroletable')" placeholder="Search ..">
            </th>
            <th>Full Name
            <br>
                <span onclick="sortTable('userroletable', 1, 'asc')" style="cursor: pointer;">&#x25B2;</span>
                <span onclick="sortTable('userroletable', 1, 'desc')" style="cursor: pointer;">&#x25BC;</span>
                <input type="text" onkeyup="filterTable('userroletable')" placeholder="Search ..">
            </th>
            <th>Namespace
            <br>
                <span onclick="sortTable('userroletable', 2, 'asc')" style="cursor: pointer;">&#x25B2;</span>
                <span onclick="sortTable('userroletable', 2, 'desc')" style="cursor: pointer;">&#x25BC;</span>
                <input type="text" onkeyup="filterTable('userroletable')" placeholder="Search ..">
            </th>
            <th>Role
            <br>
                <span onclick="sortTable('userroletable', 3, 'asc')" style="cursor: pointer;">&#x25B2;</span>
                <span onclick="sortTable('userroletable', 3, 'desc')" style="cursor: pointer;">&#x25BC;</span>
                <input type="text" onkeyup="filterTable('userroletable')" placeholder="Search ..">
            </th>
            <th>Creation Date
            <br>
                <span onclick="sortTable('userroletable', 4, 'asc')" style="cursor: pointer;">&#x25B2;</span>
                <span onclick="sortTable('userroletable', 4, 'desc')" style="cursor: pointer;">&#x25BC;</span>
            </th>
        </tr>
    </thead>
    <tbody>
        {% for line in user_info.stdout_lines[1:] %}
        {% set fields = line.split(';') %}
        <tr            
            {% if loop.index is divisibleby 2 %}
                style="background-color: #f0f0f0;"
            {% else %}
                style="background-color: white;"
            {% endif %}>
            <td>{{ fields[0] | truncate(50, True, '...') }}</td>
            <td>{{ fields[1] }}</td>
            <td>{{ fields[2] }}</td>
            <td {% if fields[3] == 'cluster-admin' %} style="font-weight: bold;background-color: orange; color: white; text-align: center;" {% endif %}>{{ fields[3] }}</td>
            <td>{{ fields[4] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Groups and Assingned Roles</h2>
<table border="1" id="groupstable">
    <thead>
        <tr>
            <th>Group Name
            <br>
                <span onclick="sortTable('groupstable', 0, 'asc')" style="cursor: pointer;">&#x25B2;</span>
                <span onclick="sortTable('groupstable', 0, 'desc')" style="cursor: pointer;">&#x25BC;</span>
                <input type="text" onkeyup="filterTable('groupstable')" placeholder="Search ..">
            </th>
            <th>Namespaces
            <br>
                <span onclick="sortTable('groupstable', 1, 'asc')" style="cursor: pointer;">&#x25B2;</span>
                <span onclick="sortTable('groupstable', 1, 'desc')" style="cursor: pointer;">&#x25BC;</span>
                <input type="text" onkeyup="filterTable('groupstable')" placeholder="Search ..">
            </th>
            <th>Role
            <br>
                <span onclick="sortTable('groupstable', 2, 'asc')" style="cursor: pointer;">&#x25B2;</span>
                <span onclick="sortTable('groupstable', 2, 'desc')" style="cursor: pointer;">&#x25BC;</span>
                <input type="text" onkeyup="filterTable('groupstable')" placeholder="Search ..">
            </th>
            <th>Role Binding
            <br>
                <span onclick="sortTable('groupstable', 3, 'asc')" style="cursor: pointer;">&#x25B2;</span>
                <span onclick="sortTable('groupstable', 3, 'desc')" style="cursor: pointer;">&#x25BC;</span>
                <input type="text" onkeyup="filterTable('groupstable')" placeholder="Search ..">
            </th>
        </tr>
    </thead>
    <tbody>
        {% for line in group_info.stdout_lines[1:] %}
        {% set fields = line.split(';') %}
        <tr            
            {% if loop.index is divisibleby 2 %}
                style="background-color: #f0f0f0;"
            {% else %}
                style="background-color: white;"
            {% endif %}>
            <td>{{ fields[0] | truncate(50, True, '...') }}</td>
            <td>{{ fields[1] }}</td>
            <td {% if fields[2] == 'cluster-admin' %} style="font-weight: bold;background-color: orange; color: white; text-align: center;" {% endif %}>{{ fields[2] }}</td>
            <td>{{ fields[3] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>


<h2>Groups Members</h2>
<table border="1" id="groupmemberstable">
    <thead>
        <tr>
            <th>Group Name
            <br>
                <span onclick="sortTable('groupmemberstable', 0, 'asc')" style="cursor: pointer;">&#x25B2;</span>
                <span onclick="sortTable('groupmemberstable', 0, 'desc')" style="cursor: pointer;">&#x25BC;</span>
                <input type="text" onkeyup="filterTable('groupmemberstable')" placeholder="Search ..">
            </th>
            <th>Username
            <br>
                <span onclick="sortTable('groupmemberstable', 1, 'asc')" style="cursor: pointer;">&#x25B2;</span>
                <span onclick="sortTable('groupmemberstable', 1, 'desc')" style="cursor: pointer;">&#x25BC;</span>
                <input type="text" onkeyup="filterTable('groupmemberstable')" placeholder="Search ..">
            </th>
            <th>Full Name
            <br>
                <span onclick="sortTable('groupmemberstable', 2, 'asc')" style="cursor: pointer;">&#x25B2;</span>
                <span onclick="sortTable('groupmemberstable', 2, 'desc')" style="cursor: pointer;">&#x25BC;</span>
                <input type="text" onkeyup="filterTable('groupmemberstable')" placeholder="Search ..">
            </th>
        </tr>
    </thead>
    <tbody>
        {% for line in group_members_info.stdout_lines[1:] %}
        {% set fields = line.split(';') %}
        <tr            
            {% if loop.index is divisibleby 2 %}
                style="background-color: #f0f0f0;"
            {% else %}
                style="background-color: white;"
            {% endif %}>
            <td>{{ fields[0] | truncate(50, True, '...') }}</td>
            <td>{{ fields[1] | truncate(50, True, '...') }}</td>
            <td {% if fields[2] == 'cluster-admin' %} style="font-weight: bold;background-color: orange; color: white; text-align: center;" {% endif %}>{{ fields[2] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>